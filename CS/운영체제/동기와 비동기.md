# 동기(Sync) vs Async(비동기)

## 동기(Sync)
- 동기는 데이터의 요청과 결과가 한 자리에서 동시에 일어나는것을 말한다.

- 요청을 하면 시간이 얼마나 걸리던지 요청한 자리에서 결과가 주어져야 한다.

- 정 프로그램을 구동시키는 데 시간이 5분 소요된다고 하면, 이 프로그램이 구동되는 5분동안 컴퓨터는 다른 프로그램을 동작시키지 못하고, 구동되기를 기다려야 한다.

- 직렬적

- 원래의 작업이 진행되고 있던 메인 스레드에서 `global dispatch queue` 로 `task` 를 보낸 후, 다음 라인 실행을 위해 해당 작업이 끝나기를 기다린다.

**사용시 주의사항**
- 메인에서 다른큐로 보낼때는 `sync` 사용 금지
> 메인스레드는 UI 작업을 해야하는 데 업데이트가 끝날때까지 기다리게 되면 화면동작오류 발생

- 현재와 같은 큐에 `sync` 작업을 보내기 금지
> 같은 큐에 동기적으로 작업을 보내면 데드락 발생

- 메인 스레드에서 `DispatchQueue.main.sync` 사용 금지

***

## 비동기(Async)
- 비동기는 동시에 일어나지 않는다는 의미.

- 요청한 결과는 동시에 일어나지 않을거라는 약속이다.

- 요청한 곳에 결과가 나타나지 않으며, 사용자가 서버로 요청을 보냈을 경우 요청에 대한 응답을 기다리지 않고, 다른 것을 수행할 수 있으며 서버로 다른 요청을 보낼 수도 있다.

- 특정 프로그램을 구동시키는 데 시간이 5분 소요되어도 그 시간동안 다른 프로그램을 수행할 수 있다.

- 병렬적

- 원래 작업이 진행되고 있던 메인 스레드에서 `global dispatch queue `로 `task` 를 보낸 후, 해당 작업이 끝나기를 기다리지 않고 이어서 할일을 한다.

- 시간이 많이 드는 작업은 내부적으로 비동기로 구현되어있음
> ex) 서버와의 통신 (네트워크 관련)

***

![image](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fb8qZHO%2Fbtrp7G27WuA%2FBDnT9xh8Dur0LCdZw2HVs0%2Fimg.png)

***

## 동기와 비동기의 장단점

**동기**
- 장점 : 설계가 매우 간단하고 직관적이다.

- 단점 : 결요청에 대한 결과가 반환되기 전까지 대기해야 한다.


**비동기**
- 장점 : 요청에 따른 결과가 반환되는 시간 동안 다른 작업을 수행할 수 있다.

- 단점 : 동기식보다 설계가 복잡하고 논증적이다.

***

## serial(직렬)
- `Queue`에 쌓인 `task` 들을 다른 하나의 스레드에 몰아넣음

- `task`의 시작과 종료에 대한 순서예측이 가능

- 순서가 중요한 작업들을 처리할 때 사용

***

## Concurrent(동시)
- 다른 여러개의 스레드에 나눠서 처리하는 큐

- task의 시작과 종료에 대한 순서예측이 불가능

- 순서가 중요하지 않고 빠르게 처리할 때 사용

***

## 그렇다면 Sync == Serial, Async == Concurrent 일까?

정답은 NO!!

둘은 엄연히 다른 개념이므로 `Sync != Serial, Async != Concurrent` 이다.

`Sync`, `Async` 는 "단일 작업"에 대해 요청 후 결과를 기다릴지 말지에 대한 관점이고,
> 단일 작업의 요청에 대한 응답을 기다릴지(sync) 말지(async)

`Serial`, `Concurrent` 는 "여러 작업"에 대해 앞 작업과 뒷 작업을 어떻게 실행할지에 대한 관점이다.
> 앞 작업과 뒷 작업을 순차적으로 실행할지(serial) 동시 실행할지(concurrent)
profile


***

## GCD

`GCD`는 동시성을 위해 iOS 에서 지원하는 기술

- 멀티스레딩 을 쉽게 처리하기 위해 애플에서 제공하는 `API`

- `main Thread` 가 다 하던 일들을 `Queue`에 보내주면 적절히 생성하여 분배해주는 기능

- 우리가 `DispatchQueue`에 작업을 추가하면 → 작업에 맞는 스레드를 자동으로 생성해서 분배 → 작업이 종료되면 스레드 제거
```swift
DispatchQueue.global().async {
		//task 의 한단위
}
```
- DispatchQueue : iOS 에서 동시성 프로그래밍을 돕기위해 제공하는 queue
- global : Dispatch Queue 의 종류
- async : 비동기

Dispatch Queue 의 종류
-  Main Queue
> - `Serial` 특성
> - 오직 한개만 존재
> - 메인 스레드에서 처리

- Global Queue
> - `Concurrent` 특성
> - `Quality of Service` 에 따라 여러개의 종류로 나뉨  